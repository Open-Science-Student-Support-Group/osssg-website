# OSSSG website

## Site software

The OSSSG website is built using [Quarto](https://quarto.org). If you are new to Quarto, please see the [getting started](https://quarto.org/docs/get-started/) page for installation information, and the Quarto [guide](https://quarto.org/docs/guide/) and [reference](https://quarto.org/docs/reference/) for information on how the site was built and how you can modify it. We recommend using [RStudio](https://www.rstudio.com/products/rstudio/download/#download) as your editor when working on the website, and either [GitHub Desktop](https://desktop.github.com) or RStudio's [built-in Git support](https://happygitwithr.com/rstudio-git-github.html) for version control.

The website is hosted with [Netlify](https://www.netlify.com/) and rebuilt whenever a new commit is made on the `main` branch of this GitHub repository.

## Site file structure

The main content for the site is stored in the following files and directories:

- `_quarto.yml` controls site-wide parameters and is where navbar and footer contents are specified.
- `index.qmd` is the site's home page.
- `about`, `contact`, `documents`, `events`, and `news` contain those respective pages for the site.
  - `documents`, `events`, and `news` are listing pages. The `index.qmd` file in each directory controls parameters for the post listings.
- `404.qmd` is the 404 page for the site.
- `styles.css` and `theme.scss` are used for additional CSS and SASS styling for the site's appearance.

Other files:

- `_templates` contains templates you can use for creating new posts for the sites various listing pages. Please see the `README.md` file inside `_templates` for more information.
- `_common` includes files that are common to several pages across the site. Please see the `README.md` file inside `_common` for more information.
- `_site` contains the files for the rendered site. Do not modify anything in this directory. Whenever you render the site it will be overwritten. 

## Basic workflow

Open the project by double-clicking the `osssg-website.Rproj` file, then run the following command in the Terminal (not the Console) to start a live-reloading development server in your browser.

```
quarto preview
```

The development server will automatically re-render input files (e.g., index.md) whenever they change. Changes to configuration files (e.g. _quarto.yml) as well as site resources (e.g. theme or CSS files) will also cause an automatic refresh.

If you add new files to the site you may need to stop the development server then start it again for the changes to be reflected.

Once you are happy with your changes, run the following command to render the site, updating the contents of the `_site` directory.

```
quarto render
```

## Pull request workflow

In general, changes to the website should be done in branches and submitted as [pull requests](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests) so that other members have the opportunity to review them before they are deployed. A [deploy preview](https://docs.netlify.com/site-deploys/deploy-previews/) will be generated by Netlify whenever a pull request is made, so it's easy to see how the changes will look on the website before moving them into production.

If you are an R user, you can use the `usethis` package to make pull requests more easily. See the following articles:

- [Pull request helpers](https://usethis.r-lib.org/articles/pr-functions.html)
- [Pull Request Flow with usethis](https://www.garrickadenbuie.com/blog/pull-request-flow-usethis/?interactive=1&steps=)

## Version control

Both the source and output files for the site are version controlled in this GitHub repository. You will need some familiarity with Git and GitHub to clone the site files onto your computer to make changes to the site.
